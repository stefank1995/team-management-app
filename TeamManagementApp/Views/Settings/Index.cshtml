@{
    ViewData["Title"] = "App Settings";
}
<h4>App Settings</h4>
<hr />
<div class="container">
    <div class="form-group">
        <label for="night-mode-toggle">Night Mode</label>
        <div class="form-check form-switch">
            <input type="checkbox" class="form-check-input" id="night-mode-toggle">
            <label class="form-check-label" for="night-mode-toggle">Enable Night Mode</label>
        </div>
    </div>
    <div class="form-group">
        <label for="swimlanes-toggle">Swimlanes</label>
        <div class="form-check form-switch">
            <input type="checkbox" class="form-check-input" id="swimlanes-toggle">
            <label class="form-check-label" for="swimlanes-toggle">Show Swimlanes</label>
        </div>
    </div>
</div>

<style>

    body.night-mode {
        background-color: #333;
        color: #fff;
    }
</style>

<!-- Add Bootstrap and custom JavaScript -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"></script>

<script>
    // JavaScript to toggle night mode
    //const nightModeSwitch = document.getElementById("nightModeSwitch");
    //const body = document.body;

    //nightModeSwitch.addEventListener("change", function () {
    //    if (nightModeSwitch.checked) {
    //        body.classList.add("night-mode");
    //    } else {
    //        body.classList.remove("night-mode");
    //    }
    //});


// Night Mode Toggle
$('#night-mode-toggle').on('change', function() {
    const nightModeEnabled = this.checked;
    updateUserPreference('NightModeEnabled', nightModeEnabled);
});

// Swimlane Toggle
$('#swimlanes-toggle').on('change', function () {
    const swimlanesEnabled = this.checked;
    updateUserPreference('SwimlanesEnabled', swimlanesEnabled);
});

// Function to update a specific user preference
function updateUserPreference(preferenceName, preferenceValue) {
    const userPreference = {
        [preferenceName]: preferenceValue
    };

    // AJAX request to update the user preference
    $.ajax({
        url: '/Settings/UpdatePreferences', 
        method: 'POST',
        data: { userPreference: userPreference },
        
    });
}

</script>


